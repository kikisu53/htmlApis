<% include ../views/partials/head %>
<body>
     <% include ../views/partials/menu %>
    <div class="container">
        <div class="row">
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                <button onclick="startSSE('case1');startSSE('case2');startSSE('case3');">Start</button> 
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                <button onclick="stopSSE('case1');stopSSE('case2');stopSSE('case3');">Stop</button> 
            </div>
        </div>
        <div class="row">
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <b>Case 1: <br/>
                    伺服器資料更新(setInterval寫在router裡面），讓SSE機制更新前端資料<br/>
                    => 網頁打開才開始計次
                </b>
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <b>Case 2: <br/>
                    伺服器資料更新，setInterval寫在router外面，透過觸發事件(EventEmitter)，讓SSE機制更新前端資料<br/>
                    => 伺服器打開就開始計次
                </b>
            </div>

            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <b>Case 3:<br/>
                    伺服器偵測到檔案更新(fs.watch)，透過SSE把資料更新到client</b>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <output id="case1"></output>
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <output id="case2"></output>
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <output id="case3"></output>
            </div>
        </div>
    </div>
</body>
<script src="/sse.js"></script>
</html>